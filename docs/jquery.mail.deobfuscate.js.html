<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jquery.mail.deobfuscate.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: jquery.mail.deobfuscate.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileOverview jQuery Plugin
  to deobfuscate rot13 (caesar) encoded mailto-links.
 * @author Simon Gattner &lt;npm@0x38.de>
 * @license MIT
 * @version 2.2.0
 */

/**
 * @external "jQuery.fn"
 * @see {@link http://docs.jquery.com/Plugins/Authoring The jQuery Plugin Guide}
 */

(function($) {
  'use strict';
  /**
   * jQuery Methods to decode a rot13 (caesar) encoded string.
   * @function external:"jQuery".mailDeobfuscate
   */

  $.mailDeobfuscate = {
    /**
     * jQuery Method to decode a rot13 (caesar) encoded string.
     * @function external:"jQuery".mailDeobfuscate.getDecodeString
     * @param {string} string The encoded rot13 (caesar) string.
     * @return {string} Encoded rot13 (caesar) string.
     */

    getDecodeString: function(string) {
      return string.replace(
        /[a-zA-Z]/g,
        function(string) {
         return $.mailDeobfuscate.getDecodeChar(string);
       }
     );
    },
    /**
     * jQuery Method to decode a rot13 (caesar) encoded char.
     * @function external:"jQuery".mailDeobfuscate.getDecodeChar
     * @param {string} string The encoded rot13 (caesar) char.
     * @return {string} Encoded rot13 (caesar) char.
     */

    getDecodeChar: function(c) {
      return String.fromCharCode(
        (c &lt;= 'Z' ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26
      );
    },
  };
  /**
   * jQuery Prototype to deobfuscate an rot13 (caesar) obfuscated object.
   * @function external:"jQuery.fn".mailDeobfuscate
   */

  $.fn.mailDeobfuscate = function() {
    return this.not('[data-deobfuscate="done"]').each(function(index, value) {
      var object = $(value); // eslint-disable-line no-var
      var href = object.attr('href'); // eslint-disable-line no-var
      var title = object.attr('title'); // eslint-disable-line no-var
      var text = object.text(); // eslint-disable-line no-var
      try {
        if (href.length > 0) href = href.split(':', 2);
        try {
          if (href.length === 2) {
            var proto = href[0]; // eslint-disable-line no-var
            var mail = href[1]; // eslint-disable-line no-var
            var newMail = // eslint-disable-line no-var
              $.mailDeobfuscate.getDecodeString(mail);
            if (proto === 'mailto') {
              object
                .attr('href', proto + ':' + newMail)
                .attr('data-deobfuscate', 'done');
            }
            if (title.match(mail)) {
              object.attr('title', title.replace(mail, newMail));
            }
            if (text.match(mail)) {
              object.text(text.replace(mail, newMail));
            }
          }
        } catch (error) {
          console.info( // eslint-disable-line no-console
            'Deobfuscate Mail: No link in href',
            error
          );
        }
      } catch (error) {
        console.info( // eslint-disable-line no-console
          'Deobfuscate Mail: No href protocoll',
          error
        );
      }
    });
  };
}(jQuery));
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-mailDeobfuscate.html">mailDeobfuscate</a></li></ul><h3>Externals</h3><ul><li><a href="external-_jQuery.fn_.html">jQuery.fn</a></li></ul><h3>Classes</h3><ul><li><a href="MailDeobfuscate.html">MailDeobfuscate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Mar 15 2019 01:04:51 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
